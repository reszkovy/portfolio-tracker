<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Portfolio Tracker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
<body class="bg-gray-100 min-h-screen">
<div class="max-w-6xl mx-auto p-4">
<header class="bg-white rounded-lg shadow p-4 mb-6">
<h1 class="text-2xl font-bold">Portfolio Tracker</h1>h1>
<p class="text-gray-500">Stocks • Crypto • Forex | Live Data</p>p>
</header>header>
<div class="grid md:grid-cols-3 gap-4 mb-6">
<div class="bg-blue-500 text-white rounded-lg p-4">
<div class="text-sm opacity-80">Total Value</div>div>
<div id="totalValue" class="text-2xl font-bold">$0</div>div>
</div>div>
<div id="pnlCard" class="bg-green-500 text-white rounded-lg p-4">
<div class="text-sm opacity-80">P&L</div>div>
<div id="totalPnl" class="text-2xl font-bold">$0</div>div>
</div>div>
<div class="bg-purple-500 text-white rounded-lg p-4">
<div class="text-sm opacity-80">Positions</div>div>
<div id="posCount" class="text-2xl font-bold">0</div>div>
</div>div>
</div>div>
<div class="bg-white rounded-lg shadow p-4 mb-6">
<div class="flex justify-between items-center mb-4">
<h2 class="text-lg font-semibold">Positions</h2>h2>
<button onclick="addPosition()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">+ Add</button>button>
</div>div>
<div id="positions" class="space-y-2"></div>div>
</div>div>
<div class="bg-white rounded-lg shadow p-4">
<h2 class="text-lg font-semibold mb-4">Allocation</h2>h2>
<canvas id="chart" height="200"></canvas>canvas>
</div>div>
  // Password Protection
  if(!sessionStorage.getItem('auth')){let p=prompt('Enter password:');if(p!=='Dupsko69'){document.body.innerHTML='<h1 style="text-align:center;margin-top:50px;color:red;">Access Denied</h1>h1>';throw new Error('Access denied');}sessionStorage.setItem('auth','true');}
  
</div>div>
<script>
  let positions=JSON.parse(localStorage.getItem('positions')||'[]');
  function save(){localStorage.setItem('positions',JSON.stringify(positions));render();}
  function render(){
    let tv=0,tc=0;
    positions.forEach(p=>{tv+=p.shares*p.price;tc+=p.shares*p.cost;});
    document.getElementById('totalValue').textContent='$'+tv.toLocaleString();
    let pnl=tv-tc;
    document.getElementById('totalPnl').textContent=(pnl>=0?'+':'')+pnl.toLocaleString();
    document.getElementById('pnlCard').className='rounded-lg p-4 text-white '+(pnl>=0?'bg-green-500':'bg-red-500');
    document.getElementById('posCount').textContent=positions.length;
    let html='';
    positions.forEach((p,i)=>{
      let v=p.shares*p.price,pl=(p.price-p.cost)*p.shares;
      html+=`<div class="flex justify-between items-center p-3 bg-gray-50 rounded">
      <div><span class="font-bold">${p.ticker}</span> <span class="text-gray-500">${p.type}</span></div>
      <div class="text-right">
      <div>$${v.toLocaleString()}</div>
      <div class="${pl>=0?'text-green-600':'text-red-600'}">${pl>=0?'+':''}$${pl.toLocaleString()}</div>
      </div>
      <button onclick="removePosition(${i})" class="text-red-500 ml-2">×</button>
      </div>`;
    });
    document.getElementById('positions').innerHTML=html||'<p class="text-gray-500 text-center py-4">No positions yet. Click Add to start.</p>';
    updateChart();
  }
  function addPosition(){
    let t=prompt('Ticker (e.g. AAPL, BTC, EUR/USD):');if(!t)return;
    let type=prompt('Type (stock/crypto/forex):','stock');
    let shares=parseFloat(prompt('Shares/Units:','1'));
    let cost=parseFloat(prompt('Avg Cost ($):','100'));
    let price=parseFloat(prompt('Current Price ($):','100'));
    if(t&&shares&&cost&&price){
      positions.push({ticker:t.toUpperCase(),type,shares,cost,price});
      save();
    }
  }
  function removePosition(i){if(confirm('Remove?')){positions.splice(i,1);save();}}
  let chart;
  function updateChart(){
    let data={};
    positions.forEach(p=>{let v=p.shares*p.price;data[p.type]=(data[p.type]||0)+v;});
    if(chart)chart.destroy();
    chart=new Chart(document.getElementById('chart'),{
      type:'doughnut',
      data:{labels:Object.keys(data),datasets:[{data:Object.values(data),backgroundColor:['#3b82f6','#8b5cf6','#f59e0b','#10b981']}]},
      options:{responsive:true}
    });
  }
  render();
</script>
</body>body>
</html>html>
</script></title>
  </head>!DOCTYPE html><html><head><title>Test</title></head><body><h1>Hello</h1></body></html>
